!function(t){jQuery.fn.extend({elastic:function(){var e=["paddingTop","paddingRight","paddingBottom","paddingLeft","fontSize","lineHeight","fontFamily","width","fontWeight","border-top-width","border-right-width","border-bottom-width","border-left-width","borderTopStyle","borderTopColor","borderRightStyle","borderRightColor","borderBottomStyle","borderBottomColor","borderLeftStyle","borderLeftColor"];return this.each(function(){function i(){var t=Math.floor(parseInt(a.width(),10));r.width()!==t&&(r.css({width:t+"px"}),n(!0))}function o(t,e){var i=Math.floor(parseInt(t,10));a.height()!==i&&a.css({height:i+"px",overflow:e})}function n(t){var e=a.val().replace(/&/g,"&amp;").replace(/ {2}/g,"&nbsp;").replace(/<|>/g,"&gt;").replace(/\n/g,"<br />"),i=r.html().replace(/<br>/gi,"<br />");if((t||e+"&nbsp;"!==i)&&(r.html(e+"&nbsp;"),Math.abs(r.height()+s-a.height())>3)){var n=r.height()+s;n>=u?o(u,"auto"):l>=n?o(l,"hidden"):o(n,"hidden")}}if("textarea"!==this.type)return!1;var a=jQuery(this),r=jQuery("<div />").css({position:"absolute",display:"none","word-wrap":"break-word","white-space":"pre-wrap"}),s=parseInt(a.css("line-height"),10)||parseInt(a.css("font-size"),"10"),l=parseInt(a.css("height"),10)||3*s,u=parseInt(a.css("max-height"),10)||Number.MAX_VALUE;0>u&&(u=Number.MAX_VALUE),r.appendTo(a.parent());for(var m=e.length;m--;)r.css(e[m].toString(),a.css(e[m].toString()));a.css({overflow:"hidden"}),a.bind("keyup change cut paste",function(){n()}),t(window).bind("resize",i),a.bind("resize",i),a.bind("update",n),a.bind("blur",function(){r.height()<u&&a.height(r.height()>l?r.height():l)}),a.bind("input paste",function(t){setTimeout(n,250)}),n()})}})}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(){if(!t.contains(document.documentElement,this))return t(this).timeago("dispose"),this;var e=i(this),r=a.settings;return isNaN(e.datetime)||(0==r.cutoff||Math.abs(n(e.datetime))<r.cutoff)&&t(this).text(o(e.datetime)),this}function i(e){if(e=t(e),!e.data("timeago")){e.data("timeago",{datetime:a.datetime(e)});var i=t.trim(e.text());a.settings.localeTitle?e.attr("title",e.data("timeago").datetime.toLocaleString()):!(i.length>0)||a.isTime(e)&&e.attr("title")||e.attr("title",i)}return e.data("timeago")}function o(t){return a.inWords(n(t))}function n(t){return(new Date).getTime()-t.getTime()}t.timeago=function(e){return o(e instanceof Date?e:"string"==typeof e?t.timeago.parse(e):"number"==typeof e?new Date(e):t.timeago.datetime(e))};var a=t.timeago;t.extend(t.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(e){function i(i,n){var a=t.isFunction(i)?i(n,e):i,r=o.numbers&&o.numbers[n]||n;return a.replace(/%d/i,r)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var o=this.settings.strings,n=o.prefixAgo,a=o.suffixAgo;if(this.settings.allowFuture&&0>e&&(n=o.prefixFromNow,a=o.suffixFromNow),!this.settings.allowPast&&e>=0)return this.settings.strings.inPast;var r=Math.abs(e)/1e3,s=r/60,l=s/60,u=l/24,m=u/365,c=45>r&&i(o.seconds,Math.round(r))||90>r&&i(o.minute,1)||45>s&&i(o.minutes,Math.round(s))||90>s&&i(o.hour,1)||24>l&&i(o.hours,Math.round(l))||42>l&&i(o.day,1)||30>u&&i(o.days,Math.round(u))||45>u&&i(o.month,1)||365>u&&i(o.months,Math.round(u/30))||1.5>m&&i(o.year,1)||i(o.years,Math.round(m)),h=o.wordSeparator||"";return void 0===o.wordSeparator&&(h=" "),t.trim([n,c,a].join(h))},parse:function(e){var i=t.trim(e);return i=i.replace(/\.\d+/,""),i=i.replace(/-/,"/").replace(/-/,"/"),i=i.replace(/T/," ").replace(/Z/," UTC"),i=i.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),i=i.replace(/([\+\-]\d\d)$/," $100"),new Date(i)},datetime:function(e){var i=t(e).attr(a.isTime(e)?"datetime":"title");return a.parse(i)},isTime:function(e){return"time"===t(e).get(0).tagName.toLowerCase()}});var r={init:function(){var i=t.proxy(e,this);i();var o=a.settings;o.refreshMillis>0&&(this._timeagoInterval=setInterval(i,o.refreshMillis))},update:function(i){var o=a.parse(i);t(this).data("timeago",{datetime:o}),a.settings.localeTitle&&t(this).attr("title",o.toLocaleString()),e.apply(this)},updateFromDOM:function(){t(this).data("timeago",{datetime:a.parse(t(this).attr(a.isTime(this)?"datetime":"title"))}),e.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};t.fn.timeago=function(t,e){var i=t?r[t]:r.init;if(!i)throw new Error("Unknown function name '"+t+"' for timeago");return this.each(function(){i.call(this,e)}),this},document.createElement("abbr"),document.createElement("time")}),SimplySocial=angular.module("SimplySocial",["ngRoute","ngRetina","ngDialog"]),SimplySocial.config(["$routeProvider",function(t){t.when("/",{templateUrl:"templates/home.html"}).when("/settings",{templateUrl:"templates/settings.html"}).otherwise({redirectTo:"/"})}]),function(){function t(t,e,i){t.posts=[],e.get("fixtures/posts.json").success(function(e){t.posts=e}),this.openNewMessageModal=function(){i.open({template:"templates/new_message_modal.html",className:"new-message-modal"})},this.createNewMessage=function(e){t.$apply(function(){t.posts.unshift({author:"Jessica Tuan",portrait:"images/profile-picture.png",message:e,postedAt:Date.now()})})}}t.$inject=["$scope","$http","ngDialog"],SimplySocial.controller("ApplicationController",t)}(),SimplySocial.directive("comment",[function(){return{restrict:"E",templateUrl:"templates/directives/comment.html",link:function(t,e,i){}}}]),SimplySocial.directive("composer",["$timeout",function(t){return{restrict:"E",templateUrl:"templates/directives/composer.html",scope:{placeholder:"@",onSubmit:"&"},link:function(e,i,o){e.message=o.placeholder||"",message=i.find(".message"),t(function(){message.elastic().focus()}),i.keydown(function(t){13==t.keyCode&&(t.preventDefault(),e.onSubmit({text:message.val()}),message.val(""))})}}}]),SimplySocial.directive("post",[function(){return{restrict:"E",templateUrl:"templates/directives/post.html",scope:{data:"=",showComments:"="},link:function(t,e,i){t.toggleComments=function(){t.showComments=!t.showComments}}}}]),SimplySocial.directive("toggle",[function(){return{restrict:"E",templateUrl:"templates/directives/toggle.html",scope:{isOn:"@",name:"@",label:"@",type:"@"},link:function(t,e,i){t.type=i.type||"checkbox",t.isOn="true"==i.isOn?!0:!1,t.toggle=function(){t.isOn=!t.isOn}}}}]),SimplySocial.filter("timeago",function(){return function(t){var e=Math.floor((Date.now()-parseInt(t))/1e3),i=Math.floor(e/31536e3);return i>1?i+" years":(i=Math.floor(e/2592e3),i>1?i+" months":(i=Math.floor(e/86400),i>1?i+" days":(i=Math.floor(e/3600),i>1?i+"h":(i=Math.floor(e/60),i>1?i+"m":Math.floor(e)+"s"))))}});